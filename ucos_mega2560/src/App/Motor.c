/*
*********************************************************************************************************
*                                           Atmel ATmega256
*                                               Motor
*
*                                (c) Copyright 2005, Micrium, Weston, FL
*                                          All Rights Reserved
*
*
* File : Motor.c
* By   : Pawan Singh Rana
*********************************************************************************************************
*/

/*
*********************************************************************************************************
*                                               INCLUDES
*********************************************************************************************************
*/

#include "includes.h"
#include <avr_debugger.h>
#include "avr8-stub.h"
#include "Dio_Cfg.h"
/*
*********************************************************************************************************
*                                               DEFINES
*********************************************************************************************************
*/
#define DC_MOTOR_IN1				PB6
#define DC_MOTOR_IN2				PB7
/*
*********************************************************************************************************
*                                              GLOBAL VARIABLES
*********************************************************************************************************
*/



/*
*********************************************************************************************************
*                                            FUNCTION PROTOTYPES
*********************************************************************************************************
*/

/*
*********************************************************************************************************
*                                         Fx_DC_Motor_Init
*
* Description : This function should be called by your application code before you make use of any of the
*               functions found in this module.
*               
* Arguments   : none
*********************************************************************************************************
*/
void  Fx_DC_Motor_Init (void)
{ 
     DDRB  = 0xFF;                     
}
/*
*********************************************************************************************************
*                                                   Fx_DC_Motor_MainFunction 
* Description : This function will trigger the DC Motor Functionality
*               
* Arguments   : none
*********************************************************************************************************
*/
void Fx_DC_Motor_MainFunction(unsigned char cmd)
{

        Dio_WriteChannel(AVR_PORTB,DC_MOTOR_IN1,HIGH);
        Dio_WriteChannel(AVR_PORTB,DC_MOTOR_IN2,LOW);
        OSTimeDlyHMSM(0,0,5,0);

        Dio_WriteChannel(AVR_PORTB,DC_MOTOR_IN2,HIGH);
        Dio_WriteChannel(AVR_PORTB,DC_MOTOR_IN1,LOW);
        OSTimeDlyHMSM(0,0,5,0);
        


}